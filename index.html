<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ù„ØªØ­Ø¶ÙŠØ± Ø§Ù„ÙØ§ÙŠÙ†Ø§Ù„</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container" id="app"></div>

    <script>

const examSets = [
  {
    title: "Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ (1917-1931) - Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ ÙˆØ§Ù„Ø£Ø«Ø§Ø«",
    questions: [
      {
        id: 1,
        category: "Ù†Ø´Ø£Ø© Ø§Ù„Ø­Ø±ÙƒØ© ÙˆÙ…Ø¨Ø§Ø¯Ø¦Ù‡Ø§",
        question: "Ø£ÙŠÙ† Ù†Ø´Ø£Øª Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ØŸ",
        options: [
          "Ø£Ù„Ù…Ø§Ù†ÙŠØ§",
          "Ù‡ÙˆÙ„Ù†Ø¯Ø§",
          "ÙØ±Ù†Ø³Ø§",
          "Ø±ÙˆØ³ÙŠØ§"
        ],
        correctAnswer: 1,
        explanation: "Ù†Ø´Ø£Øª Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ ÙÙŠ Ù‡ÙˆÙ„Ù†Ø¯Ø§ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ÙÙ†Ø§Ù†ÙŠÙ† ÙÙŠ Ø§Ù„ÙØªØ±Ø© (1917-1931).",
        topic: "Ø§Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ© ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ© Ù„Ù„Ø­Ø±ÙƒØ©"
      },
      {
        id: 2,
        category: "Ù†Ø´Ø£Ø© Ø§Ù„Ø­Ø±ÙƒØ© ÙˆÙ…Ø¨Ø§Ø¯Ø¦Ù‡Ø§",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ ØªØ´ÙŠØ± Ø¥Ù„ÙŠÙ‡ ÙƒÙ„Ù…Ø© 'Ø¯ÙŠØ³ØªÙŠÙ„' (De Stijl) Ø¹Ù†Ø¯ ÙÙ†Ø§Ù†ÙŠÙ† Ø§Ù„Ø­Ø±ÙƒØ©ØŸ",
        options: [
          "Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙˆØ§Ù„Ø­ÙŠÙˆÙŠØ©",
          "Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø¥Ø³Ù„ÙˆØ¨ÙŠ Ù„Ù„Ø´ÙƒÙ„ ÙˆØ§Ù„ÙˆØ¸ÙŠÙØ©",
          "Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ",
          "Ø§Ù„ÙÙ† Ø§Ù„ØªÙ…Ø«ÙŠÙ„ÙŠ"
        ],
        correctAnswer: 1,
        explanation: "ØªØ¹Ù†ÙŠ ÙƒÙ„Ù…Ø© Ø¯ÙŠØ³ØªÙŠÙ„ DE STIJL Ø¹Ù†Ø¯ Ø§Ù„ÙÙ†ÙŠÙŠÙ† Ø°Ù„Ùƒ Ø§Ù„Ø°ÙŠ ÙŠØ­ØªØ±Ù… Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø¥Ø³Ù„ÙˆØ¨ÙŠ Ù„Ù„Ø´ÙƒÙ„ ÙˆØ§Ù„ÙˆØ¸ÙŠÙØ©.",
        topic: "ÙÙ„Ø³ÙØ© Ø§Ù„ØªØ³Ù…ÙŠØ© ÙˆØ§Ù„Ù…ÙÙ‡ÙˆÙ… Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠ"
      },
      {
        id: 3,
        category: "ÙÙ„Ø³ÙØ© Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ£Ù‡Ø¯Ø§ÙÙ‡Ø§",
        question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙŠ ØªÙ…ÙŠØ²Øª Ø¨Ù‡Ø§ Ø£Ø¹Ù…Ø§Ù„ Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ØŸ",
        options: [
          "Ø§Ù„Ù…Ù†Ø­Ù†ÙŠØ§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„ØªØ±Ø§Ø¨ÙŠØ©",
          "Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© ÙˆØ§Ù„Ø²Ø®Ø§Ø±Ù Ø§Ù„Ù†Ø¨Ø§ØªÙŠØ©",
          "Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„ØªØ¬Ø±ÙŠØ¯ ÙˆØ§Ù„Ø¨Ø³Ø§Ø·Ø©",
          "Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…ØªØ¯Ø±Ø¬Ø©"
        ],
        correctAnswer: 2,
        explanation: "Ø¹Ø¨Ø±Øª Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ø¹Ù† Ø§Ù„ØªØ¬Ø±ÙŠØ¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ ÙˆØ§Ù„Ø¨Ø³Ø§Ø·Ø© ÙˆØ§Ù„Ø§Ø®ØªØ²Ø§Ù„ ÙÙŠ Ø§Ù„Ø´ÙƒÙ„ ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ù„ÙˆÙ† ÙˆØ¨Ø®Ø§ØµØ© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£ÙˆÙ„ÙŠØ©.",
        topic: "Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ù„ÙˆØ¨ÙŠØ©"
      },
      {
        id: 4,
        category: "ÙÙ„Ø³ÙØ© Ø§Ù„Ø­Ø±ÙƒØ© ÙˆØ£Ù‡Ø¯Ø§ÙÙ‡Ø§",
        question: "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ø§Ù„ØªÙŠ Ø§Ù‡ØªÙ…Øª Ø¨Ù‡Ø§ Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ØŸ",
        options: [
          "Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø®Ø¶Ø± ÙˆØ§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ",
          "Ø§Ù„Ø£ØµÙØ± ÙˆØ§Ù„Ø£Ø²Ø±Ù‚ ÙˆØ§Ù„Ø£Ø­Ù…Ø±",
          "Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ÙˆØ§Ù„Ø£Ø®Ø¶Ø± ÙˆØ§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ",
          "Ø§Ù„Ø£Ø¨ÙŠØ¶ ÙˆØ§Ù„Ø£Ø³ÙˆØ¯ ÙˆØ§Ù„Ø¨Ù†ÙŠ"
        ],
        correctAnswer: 1,
        explanation: "ØªØªØ®Ø° Ø£Ù„ÙˆØ§Ù†Ù‡Ø§ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© 'Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£ØµÙØ± ÙˆØ§Ù„Ø£Ø²Ø±Ù‚' ÙˆØ¨Ø¹Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØºÙŠØ± Ù„ÙˆÙ†ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø£Ø³ÙˆØ¯ ÙˆØ§Ù„Ø£Ø¨ÙŠØ¶ ÙˆØ§Ù„Ø±Ù…Ø§Ø¯ÙŠ.",
        topic: "Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù„ÙˆÙ†ÙŠ ÙÙŠ Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„"
      },
      {
        id: 5,
        category: "Ø§Ù„Ø¹Ù…Ø§Ø±Ø©",
        question: "Ø£ÙŠ Ù…Ø¨Ù†Ù‰ ÙŠØ¹Ø¯ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ø¹Ù…Ø§Ø±Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ØŸ",
        options: [
          "ÙÙŠÙ„Ø§ Ø±ÙˆØ¨ÙŠ (Villa Robie)",
          "ÙÙŠÙ„Ø§ Ù‡ÙŠÙ†ÙŠ (Villa Henny)",
          "Ù…Ù†Ø²Ù„ Ø´Ø±ÙˆØ¯Ø± ÙÙŠ ÙŠÙˆØªØ±ÙŠØ®Øª",
          "Ù…Ø¨Ù†Ù‰ Ø§Ù„Ø¨Ø§ÙˆÙ‡Ø§ÙˆØ³"
        ],
        correctAnswer: 2,
        explanation: "ÙŠØ¹Ø¯ Ù…Ù†Ø²Ù„ Ø´Ø±ÙˆØ¯Ø± ÙÙŠ ÙŠÙˆØªØ±ÙŠØ®Øª Ø¹Ø§Ù… 1924 Ù„Ø±ÙŠØªÙÙŠÙ„Ø¯ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ø¹Ù…Ø§Ø±Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ù„Ù…Ø§ Ø­ÙˆØ§Ù‡ Ù…Ù† Ø£ÙÙƒØ§Ø± ÙˆØ«ÙŠÙ‚Ø© Ø§Ù„ØµÙ„Ø© Ø¨Ø§Ù„ØªØ¬Ø±ÙŠØ¯.",
        topic: "Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ø§Ù„Ù…Ù…ÙŠØ²Ø©"
      },
      {
        id: 6,
        category: "Ø§Ù„Ø¹Ù…Ø§Ø±Ø©",
        question: "Ù…Ø§ Ø§Ù„Ø³Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ Ù…ÙŠØ²Øª Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ ÙƒÙ…Ø§ Ø¸Ù‡Ø±Øª ÙÙŠ Ù…Ù†Ø²Ù„ Ø´Ø±ÙˆØ¯Ø±ØŸ",
        options: [
          "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù‚ÙˆØ§Ø³ ÙˆØ§Ù„Ù‚Ø¨Ø§Ø¨",
          "Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© Ø§Ù„Ø­Ø¬Ø±ÙŠØ© ÙÙ‚Ø·",
          "Ø§Ù„ØªÙƒÙˆÙŠÙ† Ù…Ù† Ø®Ù„Ø§Ù„ Ù…Ø³ØªÙˆÙŠØ§Øª ÙˆØ®Ø·ÙˆØ· Ù…Ø³ØªÙ‚ÙŠÙ…Ø© ÙˆÙ…ØªÙˆØ§Ø²ÙŠØ©",
          "Ø§Ù„Ø²Ø®Ø§Ø±Ù Ø§Ù„Ø¬ØµÙŠØ© Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©"
        ],
        correctAnswer: 2,
        explanation: "ØªØ£Ø³Ø³ Ù…Ù†Ø²Ù„ Ø´Ø±ÙˆØ¯Ø± Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø³ØªÙˆÙŠØ© ÙˆØ§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ù…Ø³ØªÙ‚ÙŠÙ…Ø© Ø§Ù„ØªÙŠ ØªÙ…Ø«Ù„ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ÙˆØ§Ù„ÙƒÙ…Ø±Ø§Øª.",
        topic: "Ù…Ø¨Ø§Ø¯Ø¦ Ø§Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ"
      },
      {
        id: 7,
        category: "Ø§Ù„Ø£Ø«Ø§Ø«",
        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø£Ø´Ù‡Ø± Ø§Ù„Ø°ÙŠ ØµÙ…Ù…Ù‡ Ø¬Ø±ÙŠØª Ø±ÙŠØªÙÙŠÙ„Ø¯ Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ØŸ",
        options: [
          "Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø²ÙŠØ¬Ø²Ø§Ø¬ (Zig Zag)",
          "Ø§Ù„Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø²Ø±Ù‚ (Red Blue Chair)",
          "Ù…Ù‚Ø¹Ø¯ Ø¨ÙŠØªØ± Ø²ÙˆØ§Ø±Øª",
          "Ù…Ù‚Ø¹Ø¯ Ù…ÙˆÙ†Ø¯Ø±ÙŠØ§Ù†"
        ],
        correctAnswer: 1,
        explanation: "ÙŠØ¹Ø¯ Ø§Ù„Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø²Ø±Ù‚ Ù„Ù„ÙÙ†Ø§Ù† Ø±ÙŠØªÙÙŠÙ„Ø¯ Ø£Ù‡Ù… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø£Ø«Ø§Ø« ÙˆØ§Ù„Ø°ÙŠ Ù‚Ø§Ù… Ø¨ØªØµÙ…ÙŠÙ…Ù‡ Ø¹Ø§Ù… 1918.",
        topic: "Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø£Ø«Ø§Ø« Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„"
      },
      {
        id: 8,
        category: "Ø§Ù„Ø£Ø«Ø§Ø«",
        question: "Ù…Ø§ Ø§Ù„Ù…Ø¨Ø¯Ø£ Ø§Ù„Ø°ÙŠ ØªØ¬Ø³Ø¯Ù‡ ØªØµÙ…ÙŠÙ…Ø§Øª Ø£Ø«Ø§Ø« Ø±ÙŠØªÙÙŠÙ„Ø¯ Ù…Ø«Ù„ Ø§Ù„Ù…Ù‚Ø¹Ø¯ Ø§Ù„Ø£Ø­Ù…Ø± ÙˆØ§Ù„Ø£Ø²Ø±Ù‚ØŸ",
        options: [
          "Ø§Ù„ØªØ±Ù ÙˆØ§Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ù…ÙØ±Ø·Ø©",
          "Ù…Ø­Ø§ÙƒØ§Ø© Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø·Ø¨ÙŠØ¹Ø©",
          "Ø§Ù„Ø¹Ù‚Ù„Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ÙŠØ§Øª",
          "Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ÙŠØ¯ÙˆÙŠØ© Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø© ÙÙ‚Ø·"
        ],
        correctAnswer: 2,
        explanation: "Ø¹Ø¨Ø± Ø±ÙŠØªÙÙŠÙ„Ø¯ Ø¹Ù† Ù…Ù‚Ø¹Ø¯Ù‡ Ø¨Ù€ 'Ø§Ù„Ø¹Ù‚Ù„Ø§Ù†ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø©' Ùˆ'Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…' Ùˆ'Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„Ø¬Ù…Ø§Ù„ÙŠØ§Øª'.",
        topic: "ÙÙ„Ø³ÙØ© Ø§Ù„ØªØµÙ…ÙŠÙ… ÙÙŠ Ø§Ù„Ø£Ø«Ø§Ø«"
      },
      {
        id: 9,
        category: "Ø£Ù‡Ù… Ø§Ù„Ø±ÙˆØ§Ø¯ ÙˆØ§Ù„ÙÙ†Ø§Ù†ÙŠÙ†",
        question: "Ù…Ù† Ù‡Ùˆ Ø§Ù„ÙÙ†Ø§Ù† Ø§Ù„Ø°ÙŠ ÙŠØ¹ØªØ¨Ø± Ù‚Ø§Ø¦Ø¯Ø§Ù‹ Ù„Ù„Ø­Ø±ÙƒØ© ÙˆÙ…Ø¤Ø³Ø³ Ù…Ø¬Ù„ØªÙ‡Ø§ØŸ",
        options: [
          "Ø¨ÙŠØª Ù…ÙˆÙ†Ø¯Ø±ÙŠØ§Ù† (Piet Mondrian)",
          "Ø¬Ø±ÙŠØª Ø±ÙŠØªÙÙŠÙ„Ø¯ (Gerrit Rietveld)",
          "Ø«ÙŠÙˆ ÙØ§Ù† Ø¯ÙŠØ³Ø¨Ø±Ø¬ (Theo van Doesburg)",
          "Ø¨ÙŠØªØ± Ø²ÙˆØ§Ø±Øª (Pieter Zwart)"
        ],
        correctAnswer: 2,
        explanation: "Ø«ÙŠÙˆ ÙØ§Ù† Ø¯ÙŠØ³Ø¨Ø±Ø¬ Ù…Ù† Ø£Ù‡Ù… Ø§Ù„ÙÙ†Ø§Ù†ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙƒØ§Ù† Ù„Ù‡Ù… Ø£Ø«Ø± ÙƒØ¨ÙŠØ± Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø±ÙƒØ©ØŒ ÙˆÙ‚Ø§Ù… Ø¨ØªØ£Ø³ÙŠØ³ Ù…Ø¬Ù„Ø© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„.",
        topic: "Ø§Ù„Ù‚Ø§Ø¯Ø© Ø§Ù„Ù…Ø¤Ø³Ø³ÙˆÙ† Ù„Ù„Ø­Ø±ÙƒØ©"
      },
      {
        id: 10,
        category: "Ø£Ù‡Ù… Ø§Ù„Ø±ÙˆØ§Ø¯ ÙˆØ§Ù„ÙÙ†Ø§Ù†ÙŠÙ†",
        question: "Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø§Ø´ØªÙ‡Ø± Ø¨Ù‡ Ø¨ÙŠØªØ± Ø²ÙˆØ§Ø±ØªØŸ",
        options: [
          "Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø²ÙŠØªÙŠ Ø§Ù„ØªØ¬Ø±ÙŠØ¯ÙŠ ÙÙ‚Ø·",
          "Ø§Ù„Ù†Ø­Øª Ø§Ù„Ø¨Ø±ÙˆÙ†Ø²ÙŠ",
          "Ø§Ù„Ø¯Ù…Ø¬ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ø§Ø±Ø© ÙˆÙÙ† Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© (Ø§Ù„ØªØ§ÙŠØ¨ÙˆØªÙŠÙƒØª)",
          "ØªØµÙ…ÙŠÙ… Ø§Ù„Ø£Ø²ÙŠØ§Ø¡"
        ],
        correctAnswer: 2,
        explanation: "ÙˆØµÙ Ø¨ÙŠØªØ± Ø²ÙˆØ§Ø±Øª Ù†ÙØ³Ù‡ Ø¨Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ Ø§Ù„Ø°ÙŠ ÙŠÙ…Ø²Ø¬ ØªØµÙ…ÙŠÙ…Ø§ØªÙ‡ Ø¨Ù†ÙˆØ¹ÙŠÙ† Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ÙˆØµØ§Øº Ù…ØµØ·Ù„Ø­ ØªØ§ÙŠØ¨ÙˆØªÙŠÙƒØª (TYPOTEKT) Ø§Ù„Ø°ÙŠ ÙŠØ¹Ù†ÙŠ Ø§Ù„Ø¯Ù…Ø¬ Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ø§Ø±Ø© ÙˆÙÙ† Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©.",
        topic: "ØªØ¹Ø¯Ø¯ Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹"
      },
      {
        id: 11,
        category: "Ø£Ù‡Ù… Ø§Ù„Ø±ÙˆØ§Ø¯ ÙˆØ§Ù„ÙÙ†Ø§Ù†ÙŠÙ†",
        question: "Ù…Ø§ Ø§Ù„Ø³Ù…Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨ÙŠØª Ù…ÙˆÙ†Ø¯Ø±ÙŠØ§Ù† Ø§Ù„ÙÙ†ÙŠØ©ØŸ",
        options: [
          "Ø§Ù„ÙˆØ§Ù‚Ø¹ÙŠØ© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©",
          "Ø§Ù„ØªØ¬Ø±ÙŠØ¯ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©",
          "Ø§Ù„Ø§Ù†Ø·Ø¨Ø§Ø¹ÙŠØ© Ø§Ù„Ø¶ÙˆØ¦ÙŠØ©",
          "Ø§Ù„Ø³Ø±ÙŠØ§Ù„ÙŠØ© ÙˆØ§Ù„Ø­Ù„Ù…"
        ],
        correctAnswer: 1,
        explanation: "ØªÙ…ÙŠØ²Øª Ø£Ø¹Ù…Ø§Ù„ Ù…ÙˆÙ†Ø¯Ø±ÙŠØ§Ù† Ø¨Ø§Ù„ØªØ¬Ø±ÙŠØ¯ ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ© ÙˆØ§Ù„Ù„Ø§ØªÙ…Ø§Ø«Ù„ ÙˆØ§Ù„Ø§ØªØ²Ø§Ù† Ø¨ÙŠÙ†Ù‡Ù… Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡ ÙˆØ¨Ø¹Ø¶ Ø§Ù„Ø®Ù„ÙÙŠØ§Øª Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø°Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©.",
        topic: "Ø£Ø³Ù„ÙˆØ¨ Ù…ÙˆÙ†Ø¯Ø±ÙŠØ§Ù† Ø§Ù„ØªØ¬Ø±ÙŠØ¯ÙŠ"
      },
      {
        id: 12,
        category: "Ø§Ù„ØªØ£Ø«ÙŠØ± ÙˆØ§Ù„ÙÙ„Ø³ÙØ©",
        question: "Ù…Ø§ Ø§Ù„Ù‡Ø¯Ù Ø§Ù„ÙŠÙˆØªÙˆØ¨ÙŠ Ø§Ù„Ø°ÙŠ Ø³Ø¹Øª Ø­Ø±ÙƒØ© Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ù„ØªØ­Ù‚ÙŠÙ‚Ù‡ØŸ",
        options: [
          "Ø¥Ø­ÙŠØ§Ø¡ Ø§Ù„ÙÙ† Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ…",
          "Ø®Ù„Ù‚ Ø­Ø§Ù„Ø© Ù…Ù† Ø§Ù„ØªÙ…Ø§Ø²Ø¬ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ù†Ø­Ùˆ Ø¥Ø¯Ø±Ø§Ùƒ Ø´Ø§Ù…Ù„ Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ",
          "Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ÙÙ† Ù„Ù„ÙÙ† ÙÙ‚Ø· Ø¨Ù…Ø¹Ø²Ù„ Ø¹Ù† Ø§Ù„Ù…Ø¬ØªÙ…Ø¹",
          "Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© Ø¨Ø£Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø¯Ù‚Ø©"
        ],
        correctAnswer: 1,
        explanation: "Ù‡Ø¯Ù Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ø¥Ù„Ù‰ Ø®Ù„Ù‚ Ø­Ø§Ù„Ø© Ù…Ù† Ø§Ù„ØªÙ…Ø§Ø²Ø¬ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ¬Ù‡ Ù†Ø­Ùˆ Ø¥Ø¯Ø±Ø§Ùƒ Ø´Ø§Ù…Ù„ Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ.",
        topic: "Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„ÙÙ„Ø³ÙÙŠØ©"
      },
      {
        id: 13,
        category: "Ø§Ù„ØªØ£Ø«ÙŠØ± ÙˆØ§Ù„ÙÙ„Ø³ÙØ©",
        question: "ÙƒÙŠÙ Ù†Ø¸Ø±Øª Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„ÙÙ† ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§ØªØŸ",
        options: [
          "Ø£Ù†Ù‡Ù…Ø§ Ù…Ø¬Ø§Ù„Ø§Ù† Ù…Ù†ÙØµÙ„Ø§Ù† ØªÙ…Ø§Ù…Ø§Ù‹",
          "Ø£Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø¹Ø§Ø¦Ù‚ Ø£Ù…Ø§Ù… Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„ÙÙ†ÙŠ",
          "Ø£Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù‡ÙŠ Ø·Ø±ÙŠÙ‚ ÙˆØ§Ø¶Ø­ Ù„ÙÙ‡Ù… Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ÙŠØ© ÙˆØ§Ù„ØªØ¹Ø¨ÙŠØ± Ø¹Ù†Ù‡Ø§ ÙÙ†ÙŠÙ‹Ø§",
          "Ø£Ù† Ø§Ù„ÙÙ† Ø£Ø³Ù…Ù‰ Ù…Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆÙ„Ø§ Ø­Ø§Ø¬Ø© Ù„Ù„Ø±Ø¨Ø· Ø¨ÙŠÙ†Ù‡Ù…Ø§"
        ],
        correctAnswer: 2,
        explanation: "Ù‚Ø§Ù„ ÙØ§Ù†ØªÙˆÙ†Ø¬Ø±Ù„Ùˆ: 'Ø£Ù† Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙˆØ§Ø¶Ø­ Ù„ÙÙ‡Ù… Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ÙŠØ©ØŒ ÙØ§Ù„ÙÙ† Ø£ÙØ¶Ù„ Ù„Ù„Ø­Ø§Ø³ÙŠØ³ Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠØ©'.",
        topic: "Ø§Ù„Ø¹Ù‚Ù„Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„Ø¹Ù„Ù…ÙŠ ÙÙŠ Ø§Ù„ÙÙ†"
      },
      {
        id: 14,
        category: "Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª",
        question: "Ù„Ù…Ø§Ø°Ø§ ÙØ¶Ù„ Ù…Ø¹Ù…Ø§Ø±ÙŠÙˆ Ø§Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø©ØŸ",
        options: [
          "Ù„Ø£Ù†Ù‡Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø£Ø±Ø®Øµ Ø³Ø¹Ø±Ø§Ù‹ ÙÙ‚Ø·",
          "Ù„Ø£Ù†Ù‡Ø§ ÙƒØ§Ù†Øª Ù…Ø§Ø¯Ø© ØªÙ‚Ù„ÙŠØ¯ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ù‡ÙˆÙ„Ù†Ø¯ÙŠØ©",
          "Ù„Ø£Ù†Ù‡Ø§ Ù…Ø§Ø¯Ø© ØµÙ†Ø§Ø¹ÙŠØ© Ø´Ø¹Ø± Ø£Ù†Ù‡Ø§ ØªÙ„Ø§Ø¦Ù… Ø£ÙÙƒØ§Ø± Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ø¹Ù‚Ù„Ø§Ù†ÙŠØ©",
          "Ù„Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØ´ÙƒÙŠÙ„Ù‡Ø§ ÙÙŠ Ù…Ù†Ø­Ù†ÙŠØ§Øª Ù…Ø¹Ù‚Ø¯Ø©"
        ],
        correctAnswer: 2,
        explanation: "Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø®Ø§Ù…Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ø®Ø±Ø³Ø§Ù†Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø®Ø§Ù…Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„Ø°ÙŠ Ø´Ø¹Ø± Ø£Ù†Ù‡Ø§ ØªÙ„Ø§Ø¦Ù… Ø£ÙÙƒØ§Ø± Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©.",
        topic: "Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©"
      },
      {
        id: 15,
        category: "Ø§Ù„Ø¥Ø±Ø« ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±",
        question: "Ø¨Ù…Ø§Ø°Ø§ ØªØ£Ø«Ø±Øª Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ù„Ù„Ø¯ÙŠØ³ØªÙŠÙ„ ÙÙŠ Ø¨Ø¯Ø§ÙŠØªÙ‡Ø§ ÙƒÙ…Ø§ ÙŠØ°ÙƒØ± Ø§Ù„Ù†ØµØŸ",
        options: [
          "Ø¨Ø§Ù„Ø¹Ù…Ø§Ø±Ø© Ø§Ù„Ù‚ÙˆØ·ÙŠØ©",
          "Ø¨Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ ÙØ±Ø§Ù†Ùƒ Ù„ÙˆÙŠØ¯ Ø±Ø§ÙŠØª",
          "Ø¨Ø§Ù„Ø¹Ù…Ø§Ø±Ø© Ø§Ù„ÙŠÙˆÙ†Ø§Ù†ÙŠØ© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©",
          "Ø¨Ø­Ø±ÙƒØ© Ø§Ù„ÙÙ† Ù†ÙˆÙÙˆ (Art Nouveau)"
        ],
        correctAnswer: 1,
        explanation: "ØªØ£Ø«Ø±Øª Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© Ù„Ù„Ø¯ÙŠØ³ØªÙŠÙ„ Ø¨Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ ÙØ±Ø§Ù†Ùƒ Ù„ÙˆÙŠØ¯ Ø±Ø§ÙŠØª Ø£Ø­Ø¯ Ø£Ø¹Ù…Ø§Ù„Ù‡ ÙÙŠ ÙÙŠÙ„Ø§ Ø±ÙˆØ¨ÙŠ.",
        topic: "Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø±ÙƒØ©"
      }
    ]
  }
];

    let state = {
            screen: 'selection', // 'selection', 'quiz', 'results'
            selectedExam: null,
            selectedQuestions: [], // shuffled questions for the current exam
            initialQuestionCount: 0, // original total before repeats
            currentQuestion: 0,
            selectedAnswer: null,
            showExplanation: false,
            score: 0,
            quizCompleted: false,
            answers: [], // records of initial-phase answers (used for scoring/stats)
            repeatQueue: [], // questions to repeat at the end
            inRepeatPhase: false,
            repeatAnswers: [] // records of repeat-phase attempts (do not affect score)
        };

        // Helper Functions

        // Fisher-Yates shuffle
        function shuffleArray(arr) {
            const a = arr.slice();
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }
        
        // Shuffle options for a single question and adjust correctAnswer index
        function shuffleQuestionOptions(question) {
            const opts = question.options.map((opt, idx) => ({ opt, idx }));
            const shuffled = shuffleArray(opts);
            const newOptions = shuffled.map(s => s.opt);
            const newCorrect = shuffled.findIndex(s => s.idx === question.correctAnswer);
            // Return a shallow copy of question with shuffled options and adjusted correctAnswer
            return Object.assign({}, question, { options: newOptions, correctAnswer: newCorrect });
        }
        function selectExam(index) {
            state.selectedExam = index;
            // prepare a shuffled copy of questions for the exam and shuffle each question's options
            const questions = examSets[index].questions || [];
            state.initialQuestionCount = questions.length;
            state.selectedQuestions = shuffleArray(questions.slice()).map(q => shuffleQuestionOptions(q));
            state.currentQuestion = 0;
            state.selectedAnswer = null;
            state.showExplanation = false;
            state.score = 0;
            state.quizCompleted = false;
            state.answers = [];
            state.repeatQueue = [];
            state.inRepeatPhase = false;
            state.repeatAnswers = [];
            state.screen = 'quiz';
            render();
        }

        function getCurrentQuestions() {
            if (state.selectedExam === null) return [];
            return state.selectedQuestions || examSets[state.selectedExam].questions || [];
        }

        function handleAnswerSelect(answerIndex) {
            if (state.selectedAnswer !== null) return;

            const questions = getCurrentQuestions();
            const question = questions[state.currentQuestion];
            state.selectedAnswer = answerIndex;
            state.showExplanation = true;

            const isCorrect = answerIndex === question.correctAnswer;

            if (!state.inRepeatPhase) {
                // Main phase: correct answers increment score and are recorded.
                if (isCorrect) {
                    state.score++;
                } else {
                    // schedule for repeat at the end (avoid duplicates)
                    if (!state.repeatQueue.some(q => q.id === question.id)) {
                        state.repeatQueue.push(question);
                    }
                }

                state.answers.push({
                    questionId: question.id,
                    correct: isCorrect,
                    category: question.category
                });
            } else {
                // Repeat phase: attempts here do NOT affect main score or main answers/stats
                state.repeatAnswers.push({
                    questionId: question.id,
                    correct: isCorrect
                });
            }

            render();
        }

        function handleNext() {
            const questions = getCurrentQuestions();
            if (state.currentQuestion < questions.length - 1) {
                state.currentQuestion++;
                state.selectedAnswer = null;
                state.showExplanation = false;
            } else {
                // End of current phase
                if (!state.inRepeatPhase && state.repeatQueue.length > 0) {
                    // start repeat phase with the queued wrong questions (maintain their order as collected)
                    state.selectedQuestions = state.repeatQueue.slice();
                    state.repeatQueue = [];
                    state.inRepeatPhase = true;
                    state.currentQuestion = 0;
                    state.selectedAnswer = null;
                    state.showExplanation = false;
                } else {
                    // fully finished (either no repeats or repeats finished)
                    state.quizCompleted = true;
                }
            }
            render();
        }

        function handleRestart() {
            // restart current exam from scratch (reshuffle)
            if (state.selectedExam !== null) {
                const questions = examSets[state.selectedExam].questions || [];
                state.initialQuestionCount = questions.length;
                state.selectedQuestions = shuffleArray(questions.slice()).map(q => shuffleQuestionOptions(q));
            }
            state.currentQuestion = 0;
            state.selectedAnswer = null;
            state.showExplanation = false;
            state.score = 0;
            state.quizCompleted = false;
            state.answers = [];
            state.repeatQueue = [];
            state.inRepeatPhase = false;
            state.repeatAnswers = [];
            render();
        }

        function backToMenu() {
            state = {
                screen: 'selection',
                selectedExam: null,
                selectedQuestions: [],
                initialQuestionCount: 0,
                currentQuestion: 0,
                selectedAnswer: null,
                showExplanation: false,
                score: 0,
                quizCompleted: false,
                answers: [],
                repeatQueue: [],
                inRepeatPhase: false,
                repeatAnswers: []
            };
            render();
        }

        // SVG Icons
        const icons = {
            checkCircle: '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" style="color: #10b981;"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>',
            xCircle: '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon" style="color: #ef4444;"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>',
            award: '<svg xmlns="http://www.w3.org/2000/svg" width="96" height="96" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="trophy-icon"><circle cx="12" cy="8" r="7"></circle><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline></svg>',
            bookOpen: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path></svg>'
        };

        // Render Functions
        function renderExamSelection() {
            if (examSets.length === 0 || examSets.every(set => set.questions.length === 0)) {
                return `
                    <div class="exam-selection">
                        <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ ÙƒÙˆÙŠØ² Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨</h1>
                        <p style="color: #ef4444; margin-top: 2rem;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙÙŠ Ù…Ù„Ù HTML</p>
                        <p style="color: #6b7280; font-size: 1rem;">Ø§Ø¨Ø­Ø« Ø¹Ù† "PASTE YOUR QUESTIONS ARRAYS HERE" ÙÙŠ Ø§Ù„ÙƒÙˆØ¯</p>
                    </div>
                `;
            }

            const examCards = examSets.map((examSet, index) => {
                if (examSet.questions.length === 0) return '';
                return `
                    <div class="exam-card" onclick="selectExam(${index})">
                        <h3>${examSet.title}</h3>
                        <p class="question-count">${examSet.questions.length} Ø³Ø¤Ø§Ù„</p>
                    </div>
                `;
            }).join('');

            return `
                <div class="exam-selection">
                    <h1>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„ÙØ§ÙŠÙ†Ø§Ù„</h1>
                    <p>Ø§Ø®ØªØ± Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ù‡</p>
                    <div class="exam-options">
                        ${examCards}
                    </div>
                </div>
            `;
        }

        function renderResults() {
            // Use the initial question count for score/percentage calculation
            const total = state.initialQuestionCount || (state.selectedExam !== null ? (examSets[state.selectedExam].questions || []).length : 0);
            const percentage = total > 0 ? Math.round((state.score / total) * 100) : 0;
            let message = "";
            let colorClass = "";

            if (percentage >= 90) {
                message = "Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ø§Ù‹! Ø£Ù†Øª Ù…ØªÙ…ÙƒÙ† ÙˆÙ…Ø³ØªØ¹Ø¯ ØªÙ…Ø§Ù…Ø§Ù‹ Ù„Ù„Ø§Ù…ØªØ­Ø§Ù†";
                colorClass = "color: #16a34a;";
            } else if (percentage >= 80) {
                message = "Ù…Ù…ØªØ§Ø²! Ù…Ø³ØªÙˆØ§Ùƒ Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ØŒ Ø±Ø§Ø¬Ø¹ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙ‚Ø·";
                colorClass = "color: #22c55e;";
            } else if (percentage >= 70) {
                message = "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø·";
                colorClass = "color: #2563eb;";
            } else if (percentage >= 60) {
                message = "Ø¬ÙŠØ¯! Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØªÙŠ Ø£Ø®Ø·Ø£Øª ÙÙŠÙ‡Ø§";
                colorClass = "color: #ca8a04;";
            } else {
                message = "ØªØ­ØªØ§Ø¬ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„ØªØ¯Ø±ÙŠØ¨";
                colorClass = "color: #ea580c;";
            }

            // Calculate category stats
            const categoryStats = {};
            state.answers.forEach(answer => {
                if (!categoryStats[answer.category]) {
                    categoryStats[answer.category] = { correct: 0, total: 0 };
                }
                categoryStats[answer.category].total++;
                if (answer.correct) categoryStats[answer.category].correct++;
            });

            const statsHTML = Object.entries(categoryStats).map(([cat, stats]) => {
                const pct = Math.round((stats.correct / stats.total) * 100);
                return `
                    <div class="stat-item">
                        <div class="stat-row">
                            <div class="stat-category">${cat}</div>
                            <div class="stat-score">${stats.correct}/${stats.total} (${pct}%)</div>
                        </div>
                    </div>
                `;
            }).join('');

            return `
                <div class="results-container">
                    ${icons.award}
                    <h2 class="results-title">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙƒÙˆÙŠØ²!</h2>
                    <div class="final-score">${state.score}/${total}</div>
                    <div class="percentage">Ø§Ù„Ù†Ø³Ø¨Ø©: ${percentage}%</div>
                    <p class="results-message" style="${colorClass}">${message}</p>

                    <div class="category-stats">
                        <h3 class="stats-title">
                            ${icons.bookOpen}
                            Ø£Ø¯Ø§Ø¤Ùƒ Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹:
                        </h3>
                        ${statsHTML.length > 0 ? statsHTML : '<p style="text-align: right; color: #6b7280;">Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¥Ø¬Ø§Ø¨Ø§Øª.</p>'}

                        <div class="action-buttons">
                            <button class="btn-primary" onclick="handleRestart()">Ø£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
                            <button class="btn-secondary" onclick="backToMenu()">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                        </div>

                        <div class="final-stats">
                            <p>Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: <span class="final-score-value">${state.score}</span></p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuestion() {
            const questions = getCurrentQuestions();
            const question = questions[state.currentQuestion];
            const examTitle = examSets[state.selectedExam].title;
            
            // Determine label for question number (show repeat-phase clearly)
            const mainTotal = state.initialQuestionCount || questions.length;
            const questionNumberText = state.inRepeatPhase ? `Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ ${state.currentQuestion + 1} Ù…Ù† ${questions.length}` : `Ø§Ù„Ø³Ø¤Ø§Ù„ ${state.currentQuestion + 1} Ù…Ù† ${mainTotal}`;

            const optionsHTML = question.options.map((option, index) => {
                let btnClass = "option-btn";
                let iconHTML = "";

                if (state.selectedAnswer === null) {
                    // No answer selected yet
                } else if (index === question.correctAnswer) {
                    btnClass += " correct";
                    iconHTML = icons.checkCircle;
                } else if (index === state.selectedAnswer) {
                    btnClass += " incorrect";
                    iconHTML = icons.xCircle;
                } else {
                    btnClass += " neutral";
                }

                return `
                    <button 
                        class="${btnClass}" 
                        onclick="handleAnswerSelect(${index})"
                        ${state.selectedAnswer !== null ? 'disabled' : ''}
                    >
                        <span style="text-align: right; line-height: 1.75;">${option}</span>
                        ${iconHTML}
                    </button>
                `;
            }).join('');

            const explanationHTML = state.showExplanation ? `
                <div class="explanation-box ${state.selectedAnswer === question.correctAnswer ? 'correct' : 'incorrect'}">
                    <p class="explanation-title">
                        ${state.selectedAnswer === question.correctAnswer ? 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ù…Ù…ØªØ§Ø²' : 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©'}
                    </p>
                    <div class="explanation-content">
                        <p class="explanation-text">
                            <strong>Ø§Ù„Ø´Ø±Ø­ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ:</strong><br>
                            ${question.explanation}
                        </p>
                    </div>
                    <div class="topic-info">
                        ${icons.bookOpen}
                        <p><strong>Ø±Ø§Ø¬Ø¹:</strong> ${question.topic}</p>
                    </div>
                </div>
                <button class="next-btn" onclick="handleNext()">
                    ${state.currentQuestion < questions.length - 1 ? 'Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â†' : 'Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ÙƒÙˆÙŠØ² ÙˆØ¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ğŸ‰'}
                </button>
            ` : '';

            return `
                <div class="header">
                    <h1>${examTitle}</h1>
                    <div class="score-info">
                        <div class="question-number">${questionNumberText}</div>
                        <div class="score">Ø§Ù„Ù†Ù‚Ø§Ø·: ${state.score}</div>
                    </div>
                </div>

                <div class="question-container">
                    <h2 class="category">${question.category}</h2>
                    <p class="question">${question.question}</p>

                    <div class="options">
                        ${optionsHTML}
                    </div>

                    ${explanationHTML}

                    <div class="current-score">
                        <p>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: <span class="score-value">${state.score}</span> Ù…Ù† ${state.currentQuestion + (state.selectedAnswer !== null ? 1 : 0)}</p>
                    </div>
                </div>

                <div style="text-align: center;">
                    <button class="restart-btn" onclick="handleRestart()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡</button>
                    <button class="back-to-menu-btn" onclick="backToMenu()">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            
            if (state.screen === 'selection') {
                app.innerHTML = renderExamSelection();
            } else if (state.quizCompleted) {
                app.innerHTML = renderResults();
            } else {
                app.innerHTML = renderQuestion();
            }
        }

        // Initial render
        render();
    </script>
</body>
</html>